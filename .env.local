# ======================================
# CONFIGURACIÓN DE DESARROLLO LOCAL
# ======================================

# --- Aplicación ---
# Nombre de la aplicación (usado en logs y mensajes)
APP_NAME=kero-kero-dev

# Entorno de ejecución (development/production)
# En desarrollo muestra más logs y información de debug
APP_ENV=development

# Puerto HTTP en el que escucha el servidor
APP_PORT=8080

# Habilitar modo debug (más logs detallados)
APP_DEBUG=true

# --- Base de Datos ---
# IMPORTANTE: Puedes elegir entre SQLite (para desarrollo/pruebas) o PostgreSQL (para producción)

# SQLite - Base de datos de archivo (simple, sin servidor externo)
#DB_DRIVER=sqlite
#SQLITE_PATH=./data/kerokero_dev.db

# PostgreSQL - Base de datos robusta (requiere servidor PostgreSQL corriendo)
DB_DRIVER=postgres
DB_HOST=localhost
DB_PORT=5432
DB_USER=kerokero_dev
DB_PASSWORD=dev123
DB_NAME=kerokero_dev
DB_SSLMODE=disable  # En desarrollo no usamos SSL. En producción usar "require" o "verify-full"
# DB_MAX_OPEN_CONNS=10  # Máximo de conexiones abiertas simultáneas (solo PostgreSQL)
# DB_MAX_IDLE_CONNS=2   # Conexiones idle mantenidas en el pool (solo PostgreSQL)

# NOTA: WhatsApp/whatsmeow siempre usa SQLite para guardar sesiones,
# independientemente del driver que elijas arriba

# --- Redis ---
# Sistema de caché y cola de mensajes
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=  # Vacío = sin contraseña
REDIS_DB=1  # Base de datos Redis (0-15). Usar diferente DB para dev/prod
REDIS_POOL_SIZE=5  # Número de conexiones en el pool

# --- Seguridad ---

# API_KEY: Clave secreta para autenticar peticiones HTTP
# IMPORTANTE: Todas las peticiones al servidor deben incluir esta clave en el header:
#   X-API-Key: dev-api-key-12345
# El dashboard usa esta misma clave (configurada en su .env.local)
# ⚠️ CAMBIAR en producción por una clave segura aleatoria
API_KEY=dev-api-key-12345

# JWT_SECRET: Clave para firmar tokens JWT (JSON Web Tokens)
# Se utiliza para el sistema de autenticación del dashboard
# Los usuarios inician sesión con la API_KEY y reciben un token JWT firmado con esta clave
# El dashboard usa este token para autenticar peticiones subsecuentes
# ⚠️ IMPORTANTE: Esta clave debe ser una cadena aleatoria y segura en producción
# Ejemplo generación segura: openssl rand -base64 32
JWT_SECRET=dev-jwt-secret-67890

# --- Rate Limiting ---
# Límite de peticiones por IP/cliente para prevenir abuso

# Número máximo de peticiones permitidas
RATE_LIMIT_REQUESTS=1000

# Ventana de tiempo (en segundos) para el límite
# Ejemplo: 1000 peticiones por 60 segundos = 1000 req/min
RATE_LIMIT_WINDOW=60

# --- CORS ---
# Control de acceso para peticiones desde otros dominios (navegadores)

# Dominios permitidos (* = todos, útil en desarrollo)
# En producción, especificar dominios exactos: http://dashboard.midominio.com
CORS_ALLOWED_ORIGINS=*

# Métodos HTTP permitidos
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH

# Headers personalizados permitidos
CORS_ALLOWED_HEADERS=*

# --- Logging ---
# Configuración de logs del sistema

# Nivel de detalle: debug, info, warn, error
# debug = muy detallado (desarrollo), info = normal (producción)
LOG_LEVEL=debug

# Formato: text (legible) o json (para parsers/herramientas)
LOG_FORMAT=text

# --- WhatsApp ---
# Configuración del cliente de WhatsApp

# Tiempo máximo (segundos) para escanear código QR
WA_QR_TIMEOUT=120

# Intervalo (segundos) entre intentos de reconexión automática
WA_RECONNECT_INTERVAL=3
